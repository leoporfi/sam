# ===== CONFIGURACIÓN GENERAL SAM =====

# --- Logging ---
LOG_DIRECTORY=C:/RPA/Logs/SAM
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - PID:%(process)d - %(levelname)s - %(name)s - %(funcName)s - %(message)s
LOG_DATEFMT=%Y-%m-%d %H:%M:%S
LOG_BACKUP_COUNT=7

# --- Archivos de log específicos ---
APP_LOG_FILENAME_LANZADOR=sam_lanzador_app.log
APP_LOG_FILENAME_BALANCEADOR=sam_balanceador_app.log
APP_LOG_FILENAME_CALLBACK=sam_callback_server.log
APP_LOG_FILENAME_INTERFAZ_WEB=sam_interfaz_web.log

# --- Base de Datos SAM ---
SQL_SAM_DRIVER={ODBC Driver 17 for SQL Server}
SQL_SAM_HOST=10.204.164.152
SQL_SAM_DB_NAME=SAM
SQL_SAM_UID=RPA
SQL_SAM_PWD=****
SQL_SAM_TIMEOUT_CONEXION_INICIAL=30
SQL_SAM_MAX_REINTENTOS_QUERY=3
SQL_SAM_DELAY_REINTENTO_QUERY_BASE_SEG=2
SQL_SAM_CODIGOS_SQLSTATE_REINTENTABLES=40001,HYT00,HYT01,08S01

# --- Base de Datos RPA360 ---
SQL_RPA360_DRIVER={ODBC Driver 17 for SQL Server}
SQL_RPA360_HOST=10.204.164.152
SQL_RPA360_DB_NAME=RPA360
SQL_RPA360_UID=RPA
SQL_RPA360_PWD=****
SQL_RPA360_TIMEOUT_CONEXION_INICIAL=30
SQL_RPA360_MAX_REINTENTOS_QUERY=3
SQL_RPA360_DELAY_REINTENTO_QUERY_BASE_SEG=2

# --- Automation Anywhere ---
AA_CR_URL=https://control-room.com
AA_CR_USER=sambot
AA_CR_API_KEY=************
AA_VERIFY_SSL=true
AA_API_TIMEOUT_SECONDS=120
AA_TOKEN_REFRESH_BUFFER_SEC=1140
AA_DEFAULT_PAGE_SIZE=100
AA_MAX_PAGINATION_PAGES=1000
AA_URL_CALLBACK="https://api.movistar.com.ar/telefonica-arg/sandbox/eventNotification/v3/callbacks?serviceId=SAMCallback"

# --- Callback Server ---
CALLBACK_SERVER_HOST=0.0.0.0
CALLBACK_SERVER_PORT=8008
# CALLBACK_SERVER_PUBLIC_HOST=
CALLBACK_SERVER_THREADS=5
CALLBACK_ENDPOINT_PATH=/api/callback
CALLBACK_TOKEN=****
CALLBACK_AUTH_MODE=optional

# --- Email ---
EMAIL_SMTP_SERVER=10.249.11.80
EMAIL_SMTP_PORT=25
EMAIL_FROM=SAMbot@tmoviles.com.ar
EMAIL_RECIPIENTS=leonardo.porfirio@tmoviles.com.ar

# --- Configuración Lanzador ---
LANZADOR_BOT_INPUT_VUELTAS=1
LANZADOR_INTERVALO_LANZAMIENTO_SEG=15
LANZADOR_INTERVALO_CONCILIACION_SEG=900
LANZADOR_INTERVALO_SINCRONIZACION_SEG=3600
LANZADOR_MAX_WORKERS=10
LANZADOR_MAX_REINTENTOS_DEPLOY=1
LANZADOR_DELAY_REINTENTO_DEPLOY_SEG=15
LANZADOR_PAUSA_INICIO_HHMM=21:00
LANZADOR_PAUSA_FIN_HHMM=21:15
LANZADOR_HABILITAR_SYNC=false
CONCILIADOR_MAX_INTENTOS_FALLIDOS=3

# --- Configuración Balanceador ---
BALANCEADOR_COOLING_PERIOD_SEG=300
BALANCEADOR_INTERVALO_CICLO_SEG=120
BALANCEADOR_POOL_AISLAMIENTO_ESTRICTO=true
BALANCEADOR_PROVEEDORES_CARGA=clouders,rpa360
BALANCEADOR_DEFAULT_TICKETS_POR_EQUIPO=15

# Mapeo de robots (JSON)
MAPA_ROBOTS={"RBTS_ABM_MTV_APP": "P571850_AltaTV", "RBTS_ABM_VOTT_APP": "P573221_VentaOTT"}

# --- Configuración API de Clouders ---
CLOUDERS_API_URL=https://clouders.telefonica.com.ar
CLOUDERS_AUTH=Basic ****
CLOUDERS_VERIFY_SSL=false
CLOUDERS_API_TIMEOUT=30

# --- Configuración Interfaz Web ---
INTERFAZ_WEB_HOST=127.0.0.1
INTERFAZ_WEB_PORT=8000
INTERFAZ_WEB_DEBUG=false
# INTERFAZ_WEB_SECRET_KEY=clave_secreta_muy_segura_cambiar_en_produccion
INTERFAZ_WEB_SESSION_TIMEOUT_MIN=30
INTERFAZ_WEB_MAX_UPLOAD_SIZE_MB=16

# --- Configuración del APIGW ---
API_GATEWAY_URL=https://apiinternos.movistar.com.ar/telefonica-arg/sandbox/v1/oauth2/token
API_GATEWAY_CLIENT_ID=****
API_GATEWAY_CLIENT_SECRET=****
API_GATEWAY_SCOPE=scope1


# --- Configuración del Servidor de Autorización ---
AUTH_SERVER_HOST=0.0.0.0
AUTH_SERVER_PORT=5001
APIGW_CLIENT_ID=****
APIGW_CLIENT_SECRET=****

# --- Configuración de JWT para SAM Callback ---
# Pega aquí la clave pública que genera el auth_server al iniciar.
# Debe estar entre comillas triples si tiene saltos de línea.
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----
****
-----END PUBLIC KEY-----"

JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----
****
-----END PRIVATE KEY-----"
JWT_AUDIENCE="sam-callback-service"
JWT_ISSUER="sam-auth-server"